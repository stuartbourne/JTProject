--- coder.def	2016-02-01 19:51:01.544894610 -0500
+++ /cas/student/cisc458t/Zdrive/cisc458/phase4/ptsrc/coderlinux/coder.def	2016-04-04 13:55:39.488660891 -0400
@@ -5,77 +5,76 @@
 	oOperandChooseMode = 17; { >>16 }
 	oOperandPushVariable = 18;
 	oOperandPushInteger = 19;
-	oOperandPushChar = 20;
-	oOperandPushBoolean = 21;
-	oOperandPushJumpCondition = 22; { (15) }
-	oOperandChooseJumpCondition = 23; { >>15 }
-	oOperandPushStringDescriptor = 24;
-	oOperandPushProcedure = 25;
-	oOperandPushTrap = 26;
-	oOperandPushCaseLow = 27;
-	oOperandPushCaseHigh = 28;
-	oOperandPushArrayLowerBound = 29;
-	oOperandPushArrayUpperBound = 30;
-	oOperandPushCopy = 31;
-	oOperandPushTemp = 32;
-	oOperandSetMode = 33; { (16) }
-	oOperandSetLength = 34; { (13) }
-	oOperandSetRegnum = 35; { (13) }
-	oOperandChooseLength = 36; { >>13 }
-	oOperandSetValue = 37; { (13) }
-	oOperandChooseValue = 38; { >>13 }
-	oOperandChooseManifestValue = 39; { >>13 }
-	oOperandIsValueNegative = 40; { >>14 }
-	oOperandEnterValueFromCaseTableAddress = 41;
-	oOperandEnterValueFromCodeAddress = 42;
-	oOperandEnterValueFromStringLength = 43;
-	oOperandEnterValueFromDataAreaSize = 44;
-	oOperandCompareLeftAndRight = 45; { >>14 }
-	oOperandCompareRightAndDest = 46; { >>14 }
-	oOperandIsJumpCondition = 47; { >>14 }
-	oOperandComplementJumpCondition = 48;
-	oOperandAddManifestValues = 49;
-	oOperandSubtractManifestValues = 50;
-	oOperandMultiplyManifestValues = 51;
-	oOperandNegateManifestValue = 52;
-	oOperandCompareManifestValues = 53; { >>14 }
-	oOperandMergeShuntsWithAddress = 54;
-	oOperandMergeShunts = 55;
-	oOperandFoldManifestSubscript = 56;
-	oOperandSwap = 57;
-	oOperandSwapRightAndDest = 58;
-	oOperandSwapLeftAndDest = 59;
-	oOperandPop = 60;
-	oFixPushAddress = 61;
-	oFixPushLastAddress = 62;
-	oFixSwapAddresses = 63;
-	oFixAndFreeShuntList = 64;
-	oFixAndFreeFalseBranches = 65;
-	oFixForwardBranch = 66;
-	oFixPopAddress = 67;
-	oEmitProcLabel = 68; { (16) }
-	oEmitNone = 69; { (17) }
-	oEmitSingle = 70; { (17) }
-	oEmitDouble = 71; { (17) }
-	oEmitString = 72;
-	oEmitStringLength = 73;
-	oEmitConditionalForwardBranch = 74;
-	oEmitUnconditionalForwardBranch = 75;
-	oEmitConditionalBackwardBranch = 76;
-	oEmitUnconditionalBackwardBranch = 77;
-	oEmitSourceCoordinate = 78;
-	oEmitMergeSourceCoordinate = 79;
-	oEmitCaseMergeBranch = 80;
-	oEmitCaseBranchTable = 81;
-	oCasePush = 82;
-	oCasePop = 83;
-	oCaseEnterTCodeAddress = 84;
-	oCaseEnterVariantAddress = 85;
-	oCaseEnterMergeAddress = 86;
-	oCaseEnterAbortAddress = 87;
-	oArrayEnterLowerBound = 88;
-	oArrayEnterUpperBound = 89;
-	oOptionTestChecking = 90; { >>14 }
+	oOperandPushBoolean = 20;
+	oOperandPushJumpCondition = 21; { (15) }
+	oOperandChooseJumpCondition = 22; { >>15 }
+	oOperandPushStringDescriptor = 23;
+	oOperandPushProcedure = 24;
+	oOperandPushTrap = 25;
+	oOperandPushCaseLow = 26;
+	oOperandPushCaseHigh = 27;
+	oOperandPushArrayLowerBound = 28;
+	oOperandPushArrayUpperBound = 29;
+	oOperandPushCopy = 30;
+	oOperandPushTemp = 31;
+	oOperandSetMode = 32; { (16) }
+	oOperandSetLength = 33; { (13) }
+	oOperandSetRegnum = 34; { (13) }
+	oOperandChooseLength = 35; { >>13 }
+	oOperandSetValue = 36; { (13) }
+	oOperandChooseValue = 37; { >>13 }
+	oOperandChooseManifestValue = 38; { >>13 }
+	oOperandIsValueNegative = 39; { >>14 }
+	oOperandEnterValueFromCaseTableAddress = 40;
+	oOperandEnterValueFromCodeAddress = 41;
+	oOperandEnterValueFromStringLength = 42;
+	oOperandEnterValueFromDataAreaSize = 43;
+	oOperandCompareLeftAndRight = 44; { >>14 }
+	oOperandCompareRightAndDest = 45; { >>14 }
+	oOperandIsJumpCondition = 46; { >>14 }
+	oOperandComplementJumpCondition = 47;
+	oOperandAddManifestValues = 48;
+	oOperandSubtractManifestValues = 49;
+	oOperandMultiplyManifestValues = 50;
+	oOperandNegateManifestValue = 51;
+	oOperandCompareManifestValues = 52; { >>14 }
+	oOperandMergeShuntsWithAddress = 53;
+	oOperandMergeShunts = 54;
+	oOperandFoldManifestSubscript = 55;
+	oOperandSwap = 56;
+	oOperandSwapRightAndDest = 57;
+	oOperandSwapLeftAndDest = 58;
+	oOperandPop = 59;
+	oFixPushAddress = 60;
+	oFixPushLastAddress = 61;
+	oFixSwapAddresses = 62;
+	oFixAndFreeShuntList = 63;
+	oFixAndFreeFalseBranches = 64;
+	oFixForwardBranch = 65;
+	oFixPopAddress = 66;
+	oEmitProcLabel = 67; { (16) }
+	oEmitNone = 68; { (17) }
+	oEmitSingle = 69; { (17) }
+	oEmitDouble = 70; { (17) }
+	oEmitString = 71;
+	oEmitStringLength = 72;
+	oEmitConditionalForwardBranch = 73;
+	oEmitUnconditionalForwardBranch = 74;
+	oEmitConditionalBackwardBranch = 75;
+	oEmitUnconditionalBackwardBranch = 76;
+	oEmitSourceCoordinate = 77;
+	oEmitMergeSourceCoordinate = 78;
+	oEmitCaseMergeBranch = 79;
+	oEmitCaseBranchTable = 80;
+	oCasePush = 81;
+	oCasePop = 82;
+	oCaseEnterTCodeAddress = 83;
+	oCaseEnterVariantAddress = 84;
+	oCaseEnterMergeAddress = 85;
+	oCaseEnterAbortAddress = 86;
+	oArrayEnterLowerBound = 87;
+	oArrayEnterUpperBound = 88;
+	oOptionTestChecking = 89; { >>14 }
 
 	{ Input Tokens }
 	tMultiply = 0;
@@ -103,61 +102,64 @@
 	tVarParm = 21;
 	tFetchAddress = 22;
 	tFetchInteger = 23;
-	tFetchChar = 24;
+	tFetchString = 24;
 	tFetchBoolean = 25;
 	tAssignBegin = 26;
 	tAssignAddress = 27;
 	tAssignInteger = 28;
-	tAssignChar = 29;
+	tAssignString = 29;
 	tAssignBoolean = 30;
 	tStoreParmAddress = 31;
 	tStoreParmInteger = 32;
-	tStoreParmChar = 33;
+	tStoreParmString = 33;
 	tStoreParmBoolean = 34;
 	tSubscriptBegin = 35;
 	tSubscriptAddress = 36;
 	tSubscriptInteger = 37;
-	tSubscriptChar = 38;
+	tSubscriptString = 38;
 	tSubscriptBoolean = 39;
 	tArrayDescriptor = 40;
 	tFileDescriptor = 41;
 	tIfBegin = 42;
 	tIfEnd = 43;
 	tCaseBegin = 44;
-	tWhileBegin = 45;
-	tRepeatBegin = 46;
-	tRepeatControl = 47;
-	tCallBegin = 48;
-	tParmEnd = 49;
-	tProcedureEnd = 50;
-	tWriteBegin = 51;
-	tReadBegin = 52;
-	tTrapBegin = 53;
-	tWriteEnd = 54;
-	tReadEnd = 55;
-	tLiteralAddress = 56;
-	firstCompoundToken = 56;
-	tLiteralInteger = 57;
-	tLiteralChar = 58;
-	tLiteralBoolean = 59;
-	tLiteralString = 60;
-	tStringDescriptor = 61;
-	tSkipString = 62;
-	tIfThen = 63;
-	tIfMerge = 64;
-	tCaseSelect = 65;
-	tCaseMerge = 66;
-	tCaseEnd = 67;
-	tWhileTest = 68;
-	tWhileEnd = 69;
-	tRepeatTest = 70;
-	tSkipProc = 71;
-	tCallEnd = 72;
-	tLineNumber = 73;
-	tTrap = 74;
-	lastCompoundToken = 74;
-	tEndOfFile = 75;
-	lastInputToken = 75;
+	tLoopBegin = 45;
+	tLoopBreakWhen = 46;
+	tCallBegin = 47;
+	tParmEnd = 48;
+	tProcedureEnd = 49;
+	tWriteBegin = 50;
+	tReadBegin = 51;
+	tTrapBegin = 52;
+	tWriteEnd = 53;
+	tReadEnd = 54;
+	tCaseElse = 55;
+	tConcatenate = 56;
+	tSubstring = 57;
+	tLength = 58;
+	tStringEqual = 59;
+	tFunctionResult = 60;
+	tLiteralAddress = 61;
+	firstCompoundToken = 61;
+	tLiteralInteger = 62;
+	tLiteralBoolean = 63;
+	tLiteralString = 64;
+	tStringDescriptor = 65;
+	tSkipString = 66;
+	tIfThen = 67;
+	tIfMerge = 68;
+	tCaseSelect = 69;
+	tCaseMerge = 70;
+	tCaseEnd = 71;
+	tLoopTest = 72;
+	tLoopEnd = 73;
+	tSkipProc = 74;
+	tCallEnd = 75;
+	tLineNumber = 76;
+	tTrap = 77;
+	lastCompoundToken = 77;
+	tEndOfFile = 78;
+	lastInputToken = 78;
 
 	{ Output Tokens }
 
@@ -177,6 +179,7 @@
 	two = 2;
 	four = 4;
 	eight = 8;
+	ten = 10;
 	twelve = 12;
 	regAX = 1;
 	regBX = 2;
@@ -189,7 +192,6 @@
 	trReadln = 4;
 	trWrite = 5;
 	trWriteln = 6;
-	trWriteString = 7;
 	trWriteInteger = 8;
 	trWriteChar = 9;
 	trReadInteger = 10;
@@ -199,8 +201,17 @@
 	trCaseAbort = 14;
 	trEoln = 15;
 	trEof = 16;
+	trAssignString = 101;
+	trChrString = 102;
+	trConcatenate = 103;
+	trSubstring = 104;
+	trLength = 105;
+	trStringEqual = 106;
+	trReadTring = 107;
+	trWriteString = 108;
 	byte = 1;
 	word = 2;
+	string = 3;
 	{ Type 14 }
 	no = 0;
 	yes = 1;
@@ -268,102 +279,110 @@
 	EmitProgramPrologue = 7;
 	Block = 65;
 	EmitProgramEpilogue = 58;
-	OperandPopAndFreeTemp = 3285;
-	Routine = 160;
-	Statements = 264;
-	OperandNextParameter = 249;
-	EmitMove = 3983;
-	AssignStmt = 326;
-	CallStmt = 334;
-	IfStmt = 409;
-	WhileStmt = 568;
-	RepeatStmt = 625;
-	CaseStmt = 657;
-	WriteProc = 789;
-	ReadProc = 873;
-	TrapStmt = 964;
-	OperandPushVariable = 1277;
-	OperandPushExpressionAssignPopPop = 1831;
-	OperandPushExpression = 1082;
-	OperandConvertJumpConditionToData = 3310;
-	OperandForceAddressIntoTemp = 3656;
-	OperandForceToStack = 3812;
-	OperandPushBooleanControlExpression = 462;
-	FoldIfStmt = 503;
-	OperandInfixOr = 3224;
-	OperandForceToJumpCondition = 467;
-	EmitTst = 4017;
-	SkipToEndIf = 549;
-	SkipToEndWhile = 606;
-	OperandFreeTemp = 3298;
-	CaseSelect = 685;
-	CaseVariant = 688;
-	CaseEnd = 696;
-	EmitDefaultCaseAbort = 706;
-	EmitCaseSubscriptJump = 730;
-	OperandForceIntoTemp = 3594;
-	OperandSubtractRightFromLeftPop = 2312;
-	WriteParameter = 804;
-	ReadParameter = 888;
-	OperandAssignIntegerPopPop = 3247;
-	EmitStringDescriptor = 1274;
-	OperandNegate = 2137;
-	OperandAddPop = 2215;
-	OperandSubtractPop = 2334;
-	OperandMultiplyPop = 2485;
-	OperandDividePop = 2631;
-	OperandModPop = 2757;
-	OperandNot = 3220;
-	OperandOrPop = 3241;
-	OperandEqualPop = 3403;
-	OperandGreaterPop = 3478;
-	OperandLessPop = 3566;
-	OperandChr = 2880;
-	OperandOrd = 2917;
-	OperandEolnFunction = 2941;
-	OperandEofFunction = 3067;
-	OperandSubscriptIntegerPop = 1344;
-	OperandSubscriptCharPop = 1373;
-	OperandSubscriptBooleanPop = 1405;
-	OperandSubscriptNonManifestIntegerPop = 1408;
-	OperandSubscriptNonManifestCharPop = 1663;
-	OperandCheckedSubscriptNonManifestIntegerPop = 1421;
-	OperandUncheckedSubscriptNonManifestIntegerPop = 1590;
-	OperandPushArrayUpperBound = 1550;
-	EmitCmp = 3927;
-	OperandPushArrayLowerBound = 1536;
-	EmitSubscriptAbort = 1569;
-	OperandCheckedSubscriptNonManifestCharPop = 1676;
-	OperandUncheckedSubscriptNonManifestCharPop = 1778;
-	OperandAssignCharPopPop = 3270;
-	OperandAssignBooleanPopPop = 3280;
-	OperandNegateAssignPopPop = 2112;
-	OperandAddAssignPopPopPop = 2152;
-	OperandSubtractAssignPopPopPop = 2292;
-	OperandMultiplyAssignPopPopPop = 2377;
-	OperandDivideAssignPopPopPop = 2584;
-	OperandNotAssignPopPop = 3129;
-	OperandChrAssignPopPop = 2867;
-	OperandOrdAssignPopPop = 2886;
-	OperandAddRightToLeftPop = 2185;
-	EmitAdd = 3897;
-	OperandForceLeftIntoTemp = 3642;
-	EmitSub = 3912;
-	OperandMultiplyLeftByRightPop = 2410;
-	OperandDivideLeftByRightPop = 2604;
-	SaveTempRegsToStack = 3003;
-	RestoreTempRegsFromStack = 3035;
-	OperandPushFalseTemp = 3387;
-	OperandPushTrueTemp = 3371;
-	OperandPushTempByte = 3803;
-	OperandFoldComparisonPopPop = 3570;
-	OperandPushTempWord = 3794;
-	OperandForceAddressIntoNewTemp = 3720;
-	OperandAreLeftAndRightManifest = 3839; >>14
-	OperandLeftOrRightIsTemp = 3868; >>14
+	OperandPopAndFreeTemp = 3899;
+	Routine = 201;
+	AssignStmt = 371;
+	CallStmt = 379;
+	IfStmt = 454;
+	WhileStmt = 613;
+	CaseStmt = 673;
+	WriteProc = 818;
+	ReadProc = 902;
+	TrapStmt = 993;
+	OperandNextParameter = 300;
+	EmitMove = 4680;
+	OperandAssignStringPopPop = 2402;
+	Statements = 315;
+	OperandPushVariable = 1314;
+	OperandPushExpressionAssignPopPop = 2103;
+	OperandPushExpression = 1111;
+	OperandConvertJumpConditionToData = 3924;
+	OperandForceAddressIntoTemp = 4347;
+	OperandForceToStack = 4503;
+	OperandPushBooleanControlExpression = 507;
+	FoldIfStmt = 548;
+	OperandInfixOr = 3838;
+	OperandForceToJumpCondition = 512;
+	EmitTst = 4714;
+	SkipToEndIf = 594;
+	SkipToEndWhile = 654;
+	OperandFreeTemp = 3912;
+	CaseSelect = 701;
+	CaseVariant = 704;
+	CaseEnd = 712;
+	EmitDefaultCaseAbort = 722;
+	EmitCaseSubscriptJump = 759;
+	OperandForceIntoTemp = 4279;
+	OperandSubtractRightFromLeftPop = 2796;
+	WriteParameter = 833;
+	ReadParameter = 917;
+	OperandAssignIntegerPopPop = 3861;
+	EmitStringDescriptor = 1311;
+	OperandStringEqualPop = 4017;
+	OperandNegate = 2548;
+	OperandAddPop = 2699;
+	OperandSubtractPop = 2818;
+	OperandMultiplyPop = 2969;
+	OperandDividePop = 3115;
+	OperandModPop = 3241;
+	OperandNot = 3834;
+	OperandOrPop = 3855;
+	OperandLength = 3769;
+	OperandSubstringPopPop = 2563;
+	OperandConcatenatePop = 2477;
+	OperandEqualPop = 4088;
+	OperandGreaterPop = 4163;
+	OperandLessPop = 4251;
+	OperandChr = 3364;
+	OperandOrd = 3458;
+	OperandEolnFunction = 3490;
+	OperandEofFunction = 3616;
+	OperandSubscriptIntegerPop = 1616;
+	OperandSubscriptStringPop = 1386;
+	OperandSubscriptBooleanPop = 1677;
+	OperandSubscriptNonManifestStringPop = 1415;
+	OperandCheckedSubscriptNonManifestStringPop = 1501;
+	OperandUncheckedSubscriptNonManifestStringPop = 1428;
+	OperandCheckedSubscriptNonManifestIntegerPop = 1693;
+	OperandPushArrayUpperBound = 1822;
+	EmitCmp = 4624;
+	OperandPushArrayLowerBound = 1808;
+	EmitSubscriptAbort = 1841;
+	OperandSubscriptNonManifestIntegerPop = 1680;
+	OperandSubscriptCharPop = 1645;
+	OperandSubscriptNonManifestCharPop = 1935;
+	OperandUncheckedSubscriptNonManifestIntegerPop = 1862;
+	OperandCheckedSubscriptNonManifestCharPop = 1948;
+	OperandUncheckedSubscriptNonManifestCharPop = 2050;
+	OperandAssignBooleanPopPop = 3894;
+	OperandNegateAssignPopPop = 2452;
+	OperandAddAssignPopPopPop = 2636;
+	OperandSubtractAssignPopPopPop = 2776;
+	OperandMultiplyAssignPopPopPop = 2861;
+	OperandDivideAssignPopPopPop = 3068;
+	OperandNotAssignPopPop = 3678;
+	OperandOrdAssignPopPop = 3427;
+	SaveTempRegsToStack = 3552;
+	RestoreTempRegsFromStack = 3584;
+	OperandAddRightToLeftPop = 2669;
+	EmitAdd = 4594;
+	OperandForceLeftIntoTemp = 4333;
+	EmitSub = 4609;
+	OperandMultiplyLeftByRightPop = 2894;
+	OperandDivideLeftByRightPop = 3088;
+	OperandChrAssignPopPop = 3351;
+	OperandAssignCharPopPop = 3884;
+	OperandPushFalseTemp = 4001;
+	OperandPushTrueTemp = 3985;
+	OperandPushTempByte = 4494;
+	OperandFoldComparisonPopPop = 4255;
+	OperandPushTempWord = 4485;
+	OperandForceAddressIntoNewTemp = 4411;
+	OperandAreLeftAndRightManifest = 4536; >>14
+	OperandLeftOrRightIsTemp = 4565; >>14
 	}
 
 	{ S/SL Table Parameters }
-	sslTblSize = 4052;
+	sslTblSize = 4749;
 	minSslTableValue = -32767;
 	maxSslTableValue = 32767;
